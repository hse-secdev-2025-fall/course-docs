# Как смотреть логи CI и быстро чинить «красный» статус

## Где смотреть
- Репозиторий → **Actions** → последний упавший workflow → конкретный `job` → шаг со статусом **Failed**.
- Откройте лог и найдите **первую** причину (часто выше по списку).

## Быстрые рецепты
| Симптом | Причина | Фикс |
|---|---|---|
| `ruff` ошибки | стиль/импорты | `ruff check --fix .` затем закоммитьте |
| `black` формат | форматирование | `black .` |
| `isort` импорты | порядок импортов | `isort .` |
| `pytest` падает | упавший тест/зависимость | воспроизведите локально `pytest -q`; почините код/тест |
| `ModuleNotFoundError` | зависимости | `pip install -r requirements.txt` (локально), проверьте `pyproject.toml` |
| pre-commit «не установлен» | забыли `pre-commit install` | установите и прогоните: `pre-commit run --all-files` |

## Полезные команды локально
```bash
ruff check --fix . && black . && isort .
pytest -q
pre-commit run --all-files
```

## Частые кейсы
- **CRLF/переводы строк** - см. `.gitattributes`; выполните `git add --renormalize .`.
- **Тайм‑ауты тестов** - ускоряйте тесты, используйте фикстуры, избегайте сети/долгих операций.
- **Случайные падения** - зафиксируйте версии зависимостей, проверьте кэш/артефакты CI.
